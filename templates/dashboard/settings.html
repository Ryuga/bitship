{% extends 'dashboard/layouts/base.html' %}

{% block title %} Profile {% endblock title %}

{% block content %}
    <!-- Header -->
    <div class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center">
      <!-- Mask -->
      <span class="mask {% if request.user.customer.dark_mode %}bg-translucent-default{% else %}bg-gradient-darker{% endif %} opacity-8"></span>
      <!-- Header container -->
      <div class="container-fluid d-flex align-items-center">
      </div>
    </div>

    <div class="container-fluid mt--7">
     <link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap4-toggle@3.6.1/css/bootstrap4-toggle.min.css" rel="stylesheet">

      <div class="row">
        <div class="col-xl-12 order-xl-2">
          <div class="card {% if request.user.customer.dark_mode %}bg-translucent-dark{% else %}bg-secondary{% endif %} shadow">
            <div class="card-header {% if request.user.customer.dark_mode %}bg-transparent{% else %}bg-white{% endif %} border-0">
              <div class="row align-items-center">
                <div class="col-8">
                  <h3 class="mb-0 {% if request.user.customer.dark_mode %}text-white{% endif %}">Account Settings</h3>
                </div>
              </div>
            </div>
            <div class="card-body">
            <div class="row">
              <div class="col-4">
                <div class="list-group" id="list-tab" role="tablist">
                    <style>
                        .active{
                            background-color: #212329 !important;
                            border-color: #212329 !important;
                        }
                    </style>
                  <a class="list-group-item list-group-item-action active" id="list-dashboard-list" data-toggle="list" href="#list-dashboard" role="tab" aria-controls="home">Dashboard</a>
                  <a class="list-group-item list-group-item-action" id="list-notification-list" data-toggle="list" href="#list-notification" role="tab" aria-controls="messages">Notification</a>
                  <a class="list-group-item list-group-item-action" id="list-account-list" data-toggle="list" href="#list-account" role="tab" aria-controls="settings">Account</a>
                </div>
              </div>
              <div class="col-8">
                <div class="tab-content" id="nav-tabContent">
                  <div class="tab-pane fade show active" id="list-dashboard" role="tabpanel" aria-labelledby="list-dashboard-list">
                      <div class="card {% if request.user.customer.dark_mode %}bg-gradient-gray text-darker{% endif %}">
                          <div class="card-body">
                            <dl class="row">
                              <dt class="col-sm-3">Become an Affiliate</dt>
                              <dd class="col-sm-9">
                                <input type="checkbox" id="become_affiliate" {% if request.user.customer.settings.affiliate %}checked{% endif %} data-toggle="toggle" data-onstyle="info" data-offstyle="dark" data-size="xs">
                              </dd>
                              <dt class="col-sm-3">Display terminated apps</dt>
                              <dd class="col-sm-9">
                                <input type="checkbox" id="terminated_apps" {% if request.user.customer.terminated_apps %}checked{% endif %} data-toggle="toggle" data-onstyle="info" data-offstyle="dark" data-size="xs">
                              </dd>
                              <dt class="col-sm-3">Beta features</dt>
                              <dd class="col-sm-9">
                                <input type="checkbox" id="beta_features" {% if request.user.customer.settings.beta_tester %}checked{% endif %} data-toggle="toggle" data-onstyle="info" data-offstyle="dark" data-size="xs">
                              </dd>
                              <dt class="col-sm-3">Auto Mode Switch</dt>
                              <dd class="col-sm-9">
                                <input type="checkbox" id="auto_dark_mode" {% if request.user.customer.settings.auto_dark_mode %}checked{% endif %} data-toggle="toggle" data-onstyle="info" data-offstyle="dark" data-size="xs">
                              </dd>
                            </dl>
                          </div>
                      </div>
                  </div>
                  <div class="tab-pane fade" id="list-notification" role="tabpanel" aria-labelledby="list-notification-list">
                      <div class="card {% if request.user.customer.dark_mode %}bg-gradient-gray text-darker{% endif %}">
                          <div class="card-body">
                            <dl class="row">

                              <dt class="col-sm-3">Email notifications</dt>
                              <dd class="col-sm-2">
                                <input type="checkbox" id="email_alert_option" {% if request.user.customer.settings.email_notification %}checked{% endif %} data-toggle="toggle" data-onstyle="info" data-offstyle="dark" data-size="xs">
                              <dd class="col-sm-7">
                                  <p class="text-darker">Notification and alerts will be sent to your mail address.</p>
                              </dd>
                              <dt class="col-sm-3">App status alerts</dt>
                              <dd class="col-sm-2">
                                <input type="checkbox" id="app_status_option" {% if request.user.customer.settings.app_status_alert %}checked{% endif %} data-toggle="toggle" data-onstyle="info" data-offstyle="dark" data-size="xs">
                              </dd>
                              <dd class="col-sm-7">
                                  <p class="text-darker">Alerts will be pushed when app status changes</p>
                              </dd>
                              <dt class="col-sm-3">Down time alerts</dt>
                              <dd class="col-sm-2">
                                <input type="checkbox" id="down_time_option" {% if request.user.customer.settings.down_time_alert %}checked{% endif %} data-toggle="toggle" data-onstyle="info" data-offstyle="dark" data-size="xs">
                              </dd>
                              <dd class="col-sm-7">
                                  <p class="text-darker">You'll be notified of unexpected downtimes.</p>
                              </dd>
                              <dt class="col-sm-3">Maintenance break alerts</dt>
                              <dd class="col-sm-2">
                                <input type="checkbox" id="maintenance_option" {% if request.user.customer.settings.maintenance_break_alert %}checked{% endif %} data-toggle="toggle" data-onstyle="info" data-offstyle="dark" data-size="xs">
                              </dd>
                              <dd class="col-sm-7">
                                  <p class="text-darker">You'll be notified of scheduled maintenance breaks.</p>
                              </dd>
                              <dt class="col-sm-3">New offers and deals</dt>
                              <dd class="col-sm-2">
                                <input type="checkbox" id="offers_option" {% if request.user.customer.settings.new_offers_alert %}checked{% endif %} data-toggle="toggle" data-onstyle="info" data-offstyle="dark" data-size="xs">
                              </dd>
                              <dd class="col-sm-7">
                                  <p class="text-darker">You'll be the first to hear when there is a new offer or sale.</p>
                              </dd>
                            </dl>
                          </div>
                      </div>
                  </div>
                  <div class="tab-pane fade" id="list-account" role="tabpanel" aria-labelledby="list-account-list">
                <style>
                    .user-card-full {
                        overflow: hidden
                    }

                    .card {
                        border-radius: 5px;
                        -webkit-box-shadow: 0 1px 20px 0 rgba(69, 90, 100, 0.08);
                        box-shadow: 0 1px 20px 0 rgba(69, 90, 100, 0.08);
                        border: none;
                        margin-bottom: 30px
                    }

                    .m-r-0 {
                        margin-right: 0px
                    }

                    .m-l-0 {
                        margin-left: 0px
                    }

                    .user-card-full .user-profile {
                        border-radius: 5px 0 0 5px
                    }
                    .user-profile {
                        padding: 20px 0
                    }

                    .card-block {
                        padding: 1.25rem
                    }

                    .m-b-25 {
                        margin-bottom: 25px
                    }

                    .img-radius {
                        border-radius: 65px
                    }

                    h6 {
                        font-size: 14px
                    }

                    .card .card-block p {
                        line-height: 25px
                    }

                    @media only screen and (min-width: 1400px) {
                        p {
                            font-size: 14px
                        }
                    }

                    .card-block {
                        padding: 1.25rem
                    }

                    .b-b-default {
                        border-bottom: 1px solid #e0e0e0
                    }

                    .m-b-20 {
                        margin-bottom: 20px
                    }

                    .p-b-5 {
                        padding-bottom: 5px !important
                    }

                    .card .card-block p {
                        line-height: 25px
                    }

                    .m-b-10 {
                        margin-bottom: 10px
                    }

                    .text-muted {
                        color: #919aa3 !important
                    }

                    .b-b-default {
                        border-bottom: 1px solid #e0e0e0
                    }
                    .f-w-600{
                        font-weight: 600;
                    }

                    .f-w-600x {
                        font-weight: 900;
                        font-size: 16px;
                    }

                    .m-b-20 {
                        margin-bottom: 20px
                    }

                    .m-t-40 {
                        margin-top: 20px
                    }

                    .p-b-5 {
                        padding-bottom: 5px !important
                    }

                    .m-b-10 {
                        margin-bottom: 10px
                    }

                    .m-t-40 {
                        margin-top: 20px
                    }

                    .user-card-full .social-link li {
                        display: inline-block
                    }

                    .user-card-full .social-link li a {
                        font-size: 20px;
                        margin: 0 10px 0 0;
                        -webkit-transition: all 0.3s ease-in-out;
                        transition: all 0.3s ease-in-out
                    }
                </style>
                <div class="card user-card-full {% if request.user.customer.dark_mode %}bg-gradient-gray text-darker{% endif %}">
                    <div class="row m-l-0 m-r-0">
                        <div class="col-sm-4 bg-gradient-dark user-profile">
                            <div class="card-block text-center text-white">
                                <div class="m-b-25"> <img src="{{ request.user.customer.get_avatar_url }}" class="img-radius" alt="User-Profile-Image"> </div>
                                <h6 class="f-w-600x text-white">
                                {{ request.user.first_name }} #{{ request.user.customer.tag }}
                                </h6>
                                {% if request.user.customer.verified %}
                                <button class="btn-sm btn-outline-success" disabled>verified</button>
                                {% else %}
                                    <button class="btn-sm btn-outline-danger" disabled>unverified</button>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-sm-8">
                            <div class="card-block">
                                <h6 class="m-b-20 p-b-5 b-b-default f-w-600">Personal Information</h6>
                                <div class="row">
                                {% if request.user.customer.address.firstname %}
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Name</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">{{ request.user.customer.address.firstname }}  {% if request.user.customer.address.lastname %}{{ request.user.customer.address.lastname }}{% endif %}</h6>
                                    </div>
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Billing Address</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">
                                        {{ request.user.customer.address.location }}<br>{{ request.user.customer.address.city }}, {{ request.user.customer.address.country }}<br>
                                        {% if request.user.customer.address.pincode %}{{ request.user.customer.address.pincode }}{% endif %}
                                        </h6>
                                    </div>
                                {% endif %}
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Email</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">{{ request.user.email }}</h6>
                                    </div>
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Account ID</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">{{ request.user.username }}</h6>
                                    </div>
                                </div>
                                <h6 class="m-b-20 m-t-40 p-b-5 b-b-default f-w-600">Account Information</h6>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Creation Date</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">{{ request.user.date_joined }}</h6>
                                    </div>
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Last Login</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">{{ request.user.last_login }}</h6>
                                    </div>
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Credits</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">${{ request.user.customer.rounded_credits }}</h6>
                                    </div>
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Coins</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">{{ request.user.customer.coins }}c</h6>
                                    </div>
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Credits spend</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">${{ request.user.customer.credits_spend }}</h6>
                                    </div>
                                    <div class="col-sm-6">
                                        <p class="m-b-10 f-w-600">Coins redeemed</p>
                                        <h6 class="{% if request.user.customer.dark_mode %}text-white{% else %}text-muted{% endif %} f-w-400">{{ request.user.customer.coins_redeemed }}c</h6>
                                    </div>
                                </div>
                                <h6 class="m-b-20 m-t-40 p-b-5 b-b-default f-w-600">Danger zone</h6>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <button class="btn-sm btn-danger" data-toggle="modal" data-target="#deleteAccountModalCenter">Close Account</button>
                                    </div>
                                </div>
                                <ul class="social-link list-unstyled m-t-40 m-b-10">
                                    <li><a href="#!" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="facebook" data-abc="true"><i class="mdi mdi-facebook feather icon-facebook facebook" aria-hidden="true"></i></a></li>
                                    <li><a href="#!" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="twitter" data-abc="true"><i class="mdi mdi-twitter feather icon-twitter twitter" aria-hidden="true"></i></a></li>
                                    <li><a href="#!" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="instagram" data-abc="true"><i class="mdi mdi-instagram feather icon-instagram instagram" aria-hidden="true"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                  </div>
                </div>
              </div>
             </div>
            </div>
          </div>
        </div>
      </div>
        <div class="modal fade" id="deleteAccountModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Close your account</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                  Are you sure you want to delete your account?<br><br>
                  <strong>Warning!</strong> This actions is irreversible, you will lose all your data, apps and all the files and backups related to it.<br>Any credits left in your account won't be refunded.<br><br>Enter <code>Terminate account</code> below to delete your account.<br>
                  <input type="text" class="form-control form-control-sm" name="accountTerminationField" placeholder="Terminate account">
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger deleteAccountButton">Confirm</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
              </div>
            </div>
          </div>
        </div>

      {% include "dashboard/includes/footer.html" %}

    </div>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}{% endblock javascripts %}
